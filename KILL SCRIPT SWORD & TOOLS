-- ZumHub - FE Kill GUI (Don't steal)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local lp = Players.LocalPlayer

pcall(function() game.CoreGui:FindFirstChild("SimKillGUI"):Destroy() end)

local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "SimKillGUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 240, 0, 340)
frame.Position = UDim2.new(0, 100, 0.4, -160)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame)

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, -30, 0, 25)
title.Position = UDim2.new(0, 5, 0, 5)
title.Text = "ZumHub - FE Kill"
title.BackgroundTransparency = 1
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left

local closeBtn = Instance.new("TextButton", frame)
closeBtn.Size = UDim2.new(0, 25, 0, 25)
closeBtn.Position = UDim2.new(1, -30, 0, 5)
closeBtn.Text = "X"
closeBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
closeBtn.TextColor3 = Color3.new(1,1,1)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 14
Instance.new("UICorner", closeBtn)
closeBtn.MouseButton1Click:Connect(function() gui:Destroy() end)

local textbox = Instance.new("TextBox", frame)
textbox.PlaceholderText = "Enter Player Name"
textbox.Size = UDim2.new(1, -60, 0, 30)
textbox.Position = UDim2.new(0, 10, 0, 40)
textbox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
textbox.TextColor3 = Color3.new(1, 1, 1)
textbox.Font = Enum.Font.Gotham
textbox.TextSize = 14
textbox.ClearTextOnFocus = false
Instance.new("UICorner", textbox)

local validIndicator = Instance.new("TextLabel", frame)
validIndicator.Size = UDim2.new(0, 20, 0, 20)
validIndicator.Position = UDim2.new(1, -45, 0, 45)
validIndicator.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
validIndicator.Text = ""
validIndicator.TextColor3 = Color3.new(1, 1, 1)
validIndicator.Font = Enum.Font.GothamBold
validIndicator.TextSize = 14
Instance.new("UICorner", validIndicator)

textbox:GetPropertyChangedSignal("Text"):Connect(function()
	local name = textbox.Text
	local found = false
	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= lp and player.Name:lower():find(name:lower(), 1, true) then
			found = true
			break
		end
	end
	validIndicator.BackgroundColor3 = found and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(200, 0, 0)
end)

local addBtn = Instance.new("TextButton", frame)
addBtn.Text = "+"
addBtn.Size = UDim2.new(0, 30, 0, 30)
addBtn.Position = UDim2.new(1, -40, 0, 40)
addBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
addBtn.TextColor3 = Color3.new(1, 1, 1)
addBtn.Font = Enum.Font.GothamBold
addBtn.TextSize = 20
Instance.new("UICorner", addBtn)

local targets = {}

local function updateTargetList()
	for _, child in ipairs(frame:GetChildren()) do
		if child:IsA("TextLabel") and child.Name == "Target" then
			child:Destroy()
		end
	end

	for i, name in ipairs(targets) do
		local label = Instance.new("TextLabel", frame)
		label.Name = "Target"
		label.Size = UDim2.new(1, -60, 0, 20)
		label.Position = UDim2.new(0, 10, 0, 80 + (i - 1) * 22)
		label.Text = name
		label.TextColor3 = Color3.new(1,1,1)
		label.BackgroundTransparency = 1
		label.Font = Enum.Font.Gotham
		label.TextSize = 14

		local x = Instance.new("TextButton", label)
		x.Text = "X"
		x.Size = UDim2.new(0, 20, 0, 20)
		x.Position = UDim2.new(1, 0, 0, 0)
		x.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
		x.TextColor3 = Color3.new(1, 1, 1)
		x.Font = Enum.Font.GothamBold
		x.TextSize = 12
		Instance.new("UICorner", x)
		x.MouseButton1Click:Connect(function()
			table.remove(targets, i)
			updateTargetList()
		end)
	end
end

addBtn.MouseButton1Click:Connect(function()
	local text = textbox.Text
	if text ~= "" then
		for _, v in ipairs(targets) do
			if v:lower() == text:lower() then return end
		end
		table.insert(targets, text)
		textbox.Text = ""
		updateTargetList()
	end
end)

local function findTarget(name)
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= lp and plr.Name:lower():find(name:lower(), 1, true) then
			return plr
		end
	end
end

local function simulateHit(target)
	if not target or not target.Character then return end
	local hrp = target.Character:FindFirstChild("HumanoidRootPart")
	if not hrp then return end

	local toolPart
	if lp.Character then
		local tool = lp.Character:FindFirstChildOfClass("Tool")
		if tool then
			for _, part in ipairs(tool:GetDescendants()) do
				if part:IsA("BasePart") then
					toolPart = part
					break
				end
			end
		end
	end

	if not toolPart then
		local myHRP = lp.Character and lp.Character:FindFirstChild("HumanoidRootPart")
		if myHRP then
			toolPart = myHRP
		else
			return
		end
	end

	hrp.CFrame = toolPart.CFrame * CFrame.new(0, 1, 0)
end

local killButton = Instance.new("TextButton", frame)
killButton.Text = "Kill Once"
killButton.Size = UDim2.new(1, -20, 0, 28)
killButton.Position = UDim2.new(0, 10, 1, -60)
killButton.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
killButton.TextColor3 = Color3.new(1, 1, 1)
killButton.Font = Enum.Font.GothamBold
killButton.TextSize = 14
Instance.new("UICorner", killButton)

local loopButton = Instance.new("TextButton", frame)
loopButton.Text = "Loop Kill"
loopButton.Size = UDim2.new(1, -20, 0, 28)
loopButton.Position = UDim2.new(0, 10, 1, -30)
loopButton.BackgroundColor3 = Color3.fromRGB(0, 100, 0)
loopButton.TextColor3 = Color3.new(1, 1, 1)
loopButton.Font = Enum.Font.GothamBold
loopButton.TextSize = 14
Instance.new("UICorner", loopButton)

killButton.MouseButton1Click:Connect(function()
	for _, name in ipairs(targets) do
		local target = findTarget(name)
		if target then simulateHit(target) end
	end
end)

local looping = false
local connection

loopButton.MouseButton1Click:Connect(function()
	looping = not looping
	loopButton.Text = looping and "Stop Loop" or "Loop Kill"
	if looping then
		connection = RunService.RenderStepped:Connect(function()
			for _, name in ipairs(targets) do
				local target = findTarget(name)
				if target then simulateHit(target) end
			end
		end)
	else
		if connection then connection:Disconnect() end
	end
end)

local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Size = UDim2.new(0, 40, 0, 40)
toggleBtn.Position = UDim2.new(0, 20, 0.5, -20)
toggleBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 200)
toggleBtn.Text = "â‰¡"
toggleBtn.TextSize = 24
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Draggable = true
Instance.new("UICorner", toggleBtn)

local visible = true
toggleBtn.MouseButton1Click:Connect(function()
	visible = not visible
	frame.Visible = visible
end)
